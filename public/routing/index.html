<!DOCTYPE html>
<html lang="en">

<head>
    <title>Dich&#x27;blog</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5">
    <meta name="robots" content="noodp"/>

    <link rel="stylesheet" href="https://blog.dich.ink/style.css">
    <link rel="stylesheet" href="https://blog.dich.ink/color/blue.css">

        <link rel="stylesheet" href="https://blog.dich.ink/color/background_dark.css">
    
    <link rel="stylesheet" href="https://blog.dich.ink/font-hack-subset.css">

    <meta name="description" content="">

    <meta property="og:description" content="">
    <meta property="og:title" content="Dich'blog">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://blog.dich.ink/routing/">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="">
    <meta name="twitter:title" content="Dich'blog">
    <meta property="twitter:domain" content="blog.dich.ink">
    <meta property="twitter:url" content="https://blog.dich.ink/routing/">

            
        <link rel="alternate" type="application/atom+xml" title="RSS" href="https://blog.dich.ink/atom.xml">
    
    </head>

<body class="">
<div class="container">
    
    <header class="header">
        <div class="header__inner">
            <div class="header__logo">
                    
                <a href="https://blog.dich.ink" style="text-decoration: none;">
                    <div class="logo">
                      
                            Dich&#x27;blog
                        
                    </div>
                </a>
            </div>
        </div>

        
        
                <nav class="menu">
            <ul class="menu__inner">
                <li class="active"><a href="https://blog.dich.ink">blog</a></li>
            
                <li><a href="https://blog.dich.ink/tags">tags</a></li>
            
                <li><a href="https://blog.dich.ink/archive">archive</a></li>
            
                <li><a href="https://blog.dich.ink/about">about me</a></li>
            
                <li><a href="https://blog.dich.ink/links">links</a></li>
            
                <li><a href="https://github.com/Dichgrem" target="_blank" rel="noopener noreferrer">github</a></li>
            </ul>
        </nav>
    
    
        
    </header>
    

    <div class="content">
        
    <div class="post">
        
    <h1 class="post-title"><a href="https://blog.dich.ink/routing/">Network的艺术:路由器原理与组网</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2024-02-19
        </span>

    </div>

    
        <span class="post-tags-inline">
                :: tags:&nbsp;
                <a class="post-tag" href="https://blog.dich.ink/tags/wang-luo-yi-shu/">#网络艺术</a></span>
    

        <div class="post-content">
            <p>前言 所谓无线路由，就是具备无线覆盖的路由器，即我们常用的有天线的家用路由器。而家庭组网中，除了选择一个最合适的上网方案，一部好的路由器也是非常重要;那么，如何科学的选购路由器呢？</p>
<span id="continue-reading"></span><h2 id="yi-gong-zuo-yuan-li">一.工作原理</h2>
<p>路由器是计算机网络中的重要设备，主要用于连接不同的网络，并在这些网络之间转发数据。其工作原理涉及以下几个主要方面：</p>
<p>**1. 数据包转发：**路由器根据目标地址将数据包从一个网络转发到另一个网络。它通过查找路由表来确定最佳路径，并将数据包转发到正确的输出端口。</p>
<p>**2. 路由表：**路由器维护一个路由表，其中包含了网络的拓扑结构以及到达每个网络的最佳路径信息。路由表可以通过静态配置或动态路由协议（如OSPF、BGP等）自动学习和更新。</p>
<p>**3. 数据包处理：**当路由器接收到数据包时，它会检查数据包的目标IP地址，并根据路由表确定应该转发到哪个端口。路由器还可能执行其他功能，如网络地址转换（NAT）、质量服务（QoS）和防火墙等。</p>
<p>**4. 连接多个网络：**路由器通常具有多个网络接口，可以连接不同的网络。这些网络接口可以是以太网、Wi-Fi、光纤等，使路由器能够在不同类型的网络之间进行数据转发。</p>
<p>**5. 路由器协议：**路由器使用不同的协议来实现数据包转发和路由表的更新。这些协议包括IP协议用于数据包交换、动态路由协议用于路由表的学习和更新，以及其他协议用于网络管理和安全。</p>
<p>一般而言，家用路由器使用 DHCP 模式，由上级网关的网线连接到路由器的WAN口，如小米路由器的192.168.31.1,在浏览器输入此地址可以进入管理界面，并可以发现了解连接该无线网络的设备地址都为192168.31.xx；且路由器的几个Lan口可以做交换机使用。</p>
<h2 id="er-chang-jian-can-shu">二.常见参数</h2>
<p>路由器的信号好不好，一般而言，与以下几点相关：</p>
<p><strong>1.路由器支持的协议类型：</strong></p>
<p>路由器命名常见的格式为AX3000、AC1800等，前面代表协议，后面数字表示速率（Mbps）；AX（802.11ax）在相同速率下比AC更快，即Wifi6比Wifi5要好。在相同协议下，一般速率越高越好；千兆优于百兆，但需注意千兆端口和千兆天线的产品。Wi-Fi 5（802.11ac）和Wi-Fi 6（802.11ax）是两种不同的Wi-Fi标准：</p>
<ul>
<li>
<p>速度：Wi-Fi 6 比 Wi-Fi 5 更快。Wi-Fi 5 支持的最高速度为1.3 Gbps（理论上），而 Wi-Fi 6 的最高速度为9.6 Gbps（同样是理论上的速度）。这意味着Wi-Fi 6可以提供更快的数据传输速率，特别是在拥挤的网络环境中。</p>
</li>
<li>
<p>容量：Wi-Fi 6比 Wi-Fi 5具有更好的网络容量管理。Wi-Fi 6采用了一些技术，如 OFDMA（正交频分复用多址）和 MU-MIMO（多用户多输入多输出），使得网络更有效地管理多个设备的连接。这意味着 Wi-Fi 6在拥挤的网络环境中能够更好地处理大量设备的连接，而不会出现性能下降。</p>
</li>
<li>
<p>延迟：Wi-Fi 6 比 Wi-Fi 5 具有更低的延迟。通过一些新的技术，如目标唤醒时间（TWT）和 BSS 领导者切换，Wi-Fi 6 能够在连接设备之间实现更快的响应时间和更低的延迟。这对于需要快速响应的应用，如在线游戏和视频会议，尤其重要。</p>
</li>
<li>
<p>功耗：Wi-Fi 6 比 Wi-Fi 5 具有更低的功耗。通过一些节能技术，如目标唤醒时间（TWT）和基于时间的计划（BSS领导者切换），Wi-Fi 6 可以更有效地管理设备的电量消耗，延长设备的电池寿命。</p>
</li>
</ul>
<p>在 Wifi6 普及的当下，建议购买 WiFi6 路由器，并且此类路由器往往还带有 wifi5 备用网络，可与老旧设备兼容，不必担心。小心百兆网口和千兆天线的牛马产品！</p>
<p><strong>2.路由器支持的速率：</strong></p>
<p>不要盲目追求大数字：路由器标注的无线速率是叠加速率，并非单一设备接入的最大速率。例如，标注为1750Mbps的路由器，实际上是由2.4GHz的450Mbps和5GHz的1300Mbps相加而成，单一设备的最大通信速率只有1300Mbps。大多数家庭接入的光纤速率为千兆（1000Mbps），因此最大速度为125MB/s，因此瓶颈通常不在于路由器性能；选购家用路由器，更重要的是提高信号覆盖面积和强度，能跑满千兆已经不错。</p>
<p><strong>3.路由器的无线频段：</strong></p>
<p>2.4GHz频段稳定性高，覆盖范围广，穿墙能力强；而5GHz频段速度快但穿墙能力较弱；</p>
<p><strong>4.无线网络的频段带宽：</strong></p>
<p>2.4G有20Mhz和40Mhz两种频道带宽，5G则有80Mhz和160Mhz两种；频道带宽就是发射频率的宽度，带宽越低穿透性越好。如果连的设备多的话，就用低频段；</p>
<p><strong>5.芯片的主频和板载内存</strong></p>
<p>路由器处理器的主频越高，加解密性能越好，速度和带机量也更大；目前低价位路由器通常使用MTK、瑞昱、海思等廉价处理器，配以64MB/128MB的内存。而高端路由器多使用博通的高端芯片，在内存的配置上往往可以达到256MB以上。博通高端芯片在各个方面表现都不错，同时各位大神对刷机的支持力度也比较大。板载内存越大可为后续刷机留下空间，并支持插件等；</p>
<p><strong>6.其他功能</strong></p>
<p>如 QOS，设备管理，IPTV 支持，IPV6 等等；</p>
<p><strong>7.天线越多信号不一定越强。</strong></p>
<p>路由器的发射范围是由协议决定的，与根数无关。对于双频的路由来说，4根或者6根其实只有一半（2根2.4g和2根5g使用)。</p>
<p><strong>8.无线功率不是越大越好。</strong></p>
<p>因为无线通信是双向的，路由器功率大了，但是你的手机等无线终端设备功率是不变的。在符合国家标准的情况下，wifi 功率是有硬性标准的，单台路由器覆盖80平以上的面积不太现实。因此当你面对信号差、覆盖死角的时候，应该首要想到的是增加覆盖节点，而不要相信宣传所谓的“穿墙王”。</p>
<h2 id="san-zu-wang-fang-an">三.组网方案</h2>
<p>一般而言，有 AC+AP 和 Mesh 两种方案；</p>
<ul>
<li>
<p>AC+AP 即使用一台设备做AC（控制中心），并在各处分布部署AP,从而实现在同一网段下无缝漫游，并且使各处信号强度相近；AP和AC之间通过网线连接，信号最好；也可以使用无线AP。</p>
</li>
<li>
<p>Mesh 技术基于去中心的点对点网络，一般由两台相同型号的路由器构成，开启Mesh功能并优化网络稳定性和可靠性，提高覆盖范围，适合没有预埋网线的环境使用。一般而言，需要留一个频段供两台路由器进行 Mesh,所以至少需要两台同型号的三频路由器。</p>
</li>
</ul>
<p>无论是采用 AC+AP 还是 Mesh，前期的准备必须足够充分：</p>
<p><strong>1. 网线选择建议：</strong></p>
<p>在考虑网络建设方面，从经济效益角度而言，超五类网线已经足以满足大多数家庭的千兆网络需求（1Gbps）。在短距离内，质量较高的五类/超五类网线支持高达2500兆的传输速率（2.5Gbps）。因此，一般情况下，考虑到成本因素，建议家庭网络布线选用符合标准的超五类网线。</p>
<p>若愿意适度增加布线成本，则推荐选择支持万兆（10Gbps）网络的六类/超六类以上网线，尤其是从光猫到主路由/交换机的这一段线路，最好支持万兆。即便今后需要扩展网络速度无法满足万兆的有线条件，也可以通过未来的 Wi-Fi7 标准实现无线超万兆速度覆盖。</p>
<p><strong>2. 网线布线注意事项：</strong></p>
<p>在进行网线布线时，无论是屏蔽网线还是非屏蔽网线，都应确保将强电线和弱电线分开放置于不同的管道中。同时，在走线过程中应保持一定的间距，以减少干扰。若需要考虑未来更换网线的情况，建议选择更大的穿线管道，并确保每条网线单独走一根管道。若出现强、弱电交叉走线的情况，可采用铝/锡纸包裹弱电管道以实现简单的屏蔽作用。应避免与大功率强电线相交或并行走线，如空调、烤火炉、微波炉等。</p>
<p><strong>3. 弱电箱至电视柜网线布线：</strong></p>
<p>考虑到当前电信运营商提供的IPTV功能，如果不熟悉设置VLAN的单线复用，或者未来可能使用到链中聚合技术，建议从弱电箱至电视柜至少布置两条网线，以免后悔。</p>
<p><strong>4. 接线盒的预留：</strong></p>
<p>许多人可能认为随着21世纪的到来，有线布线已经过时。因此，为了节约成本或受装修公司的误导，一些卧室甚至书房都没有进行网线布置，这是不可取的。无线网络虽然方便，但速度远不如有线快速稳定。因此，建议在每个卧室的相应位置安装一个网线接线盒，并在墙壁上安装电视时，下方也应预留一个网线接线盒。如果有地下室或楼阁，也应该布置一条网线。多预留一些接线盒总比今后发现需要网线却没有的尴尬情况要好。</p>
<p><strong>5. 死角位置的网线和电源接口预留：</strong></p>
<p>对于信号死角的位置，根据实际情况，如阳台、露台等不需要路由器设备可见的地方，可以考虑将路由器隐藏在吊顶中，甚至包括厕所的吊顶也可以考虑。在这些位置预留多个网线和电源接口是明智的选择。</p>
<p><strong>6. 路由器放置位置推荐：</strong></p>
<p>一般来说，家庭会将路由器放置在弱电箱或电视柜内，然而，周围其他电器设备运行时会产生电磁干扰，对2.4G和5G信号都会造成影响，甚至蓝牙设备也会有干扰。基于信号向下传播的特性，建议将路由器放置在较高位置，如吊顶内或进门处的高处，并最好选择居住区域的中心位置以实现更好的信号覆盖。</p>

        </div>

        
        <div class="pagination">
            <div class="pagination__title">
                <span class="pagination__title-h">Thanks for reading! Read other posts?</span>
                <hr />
            </div>
            <div class="pagination__buttons">
                    <span class="button previous">
                        <a href="https://blog.dich.ink/searching/">
                            <span class="button__icon">←</span>&nbsp;
                            <span class="button__text">Network的艺术:搜索引擎与爬虫</span>
                        </a>
                    </span>
                
                
                    <span class="button next">
                        <a href="https://blog.dich.ink/how-email-works-1/">
                            <span class="button__text">电子邮件是如何工作的:SPF&#x2F;DKIM&#x2F;DMARC</span>&nbsp;
                            <span class="button__icon">→</span>
                        </a>
                    </span>
                </div>
        </div>
    
    </div>

    </div>

    
    <footer class="footer">
        <div class="footer__inner">
                <div class="copyright">
                        <span>© 
    2024
 Dichgrem</span>
                    <span class="copyright-theme">
                        <span class="copyright-theme-sep">:: </span>
                        Theme: <a href="https://github.com/pawroman/zola-theme-terminimal/">Terminimal</a> by pawroman
                    </span>
                </div>
            </div>
    </footer>
    
    <script async defer src="http://173.249.208.93:12345/tracker.js" data-website-id="cluckwxwg0005qf4n55m737sz"></script>
</div>
</body>

</html>
