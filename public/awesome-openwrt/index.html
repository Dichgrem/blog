<!DOCTYPE html>
<html lang="en">

<head>
    <title>Dich&#x27;blog</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="robots" content="noodp"/>

    <link rel="stylesheet" href="https://blog.dich.bid/style.css">
    <link rel="stylesheet" href="https://blog.dich.bid/color/blue.css">

        <link rel="stylesheet" href="https://blog.dich.bid/color/background_dark.css">
    
    <link rel="stylesheet" href="https://blog.dich.bid/font-hack-subset.css">

    <meta name="description" content="">

    <meta property="og:description" content="">
    <meta property="og:title" content="Dich'blog">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://blog.dich.bid/awesome-openwrt/">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="">
    <meta name="twitter:title" content="Dich'blog">
    <meta property="twitter:domain" content="blog.dich.bid">
    <meta property="twitter:url" content="https://blog.dich.bid/awesome-openwrt/">

        <link rel="alternate" type="application/atom+xml" title="Dich&#x27;blog Atom Feed" href="https://blog.dich.bid/atom.xml" />
    
    
        <link rel="icon" type="image/png" href=&#x2F;dich.webp />
    
    </head>

<body class="">
<div class="container">
    
    <header class="header">
        <div class="header__inner">
            <div class="header__logo">
                    
                <a href="https://blog.dich.bid" style="text-decoration: none;">
                    <div class="logo">
                      
                            Dich&#x27;blog
                        
                    </div>
                </a>
            </div>
        </div>

        
        
                <nav class="menu">
            <ul class="menu__inner">
                <li class="active"><a href="https://blog.dich.bid">blog</a></li>
            
                <li><a href="https://blog.dich.bid/tags">tags</a></li>
            
                <li><a href="https://blog.dich.bid/archive">archive</a></li>
            
                <li><a href="https://blog.dich.bid/about">about me</a></li>
            
                <li><a href="https://blog.dich.bid/links">links</a></li>
            
                <li><a href="https://blog.dich.bid/search">search</a></li>
            
                <li><a href="https://blog.dich.bid/weekly">weekly</a></li>
            
                <li><a href="https://github.com/Dichgrem" target="_blank" rel="noopener noreferrer">github</a></li>
            </ul>
        </nav>
    
    
        
    </header>
    

    <div class="content">
        
    <div class="post">
        
    <h1 class="post-title"><a href="https://blog.dich.bid/awesome-openwrt/">ç»¼åˆå·¥ç¨‹:OpenWrtè·¯ç”±éƒ¨ç½²ä¸è½¯ä»¶ç¼–è¯‘</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2023-08-12
        </span>

    </div>

    
        <span class="post-tags-inline">
                :: tags:&nbsp;
                <a class="post-tag" href="https://blog.dich.bid/tags/zong-he-gong-cheng/">#ç»¼åˆå·¥ç¨‹</a></span>
    

        <div class="post-content">
            <p>å‰è¨€ openwrt æ˜¯ä¸€ä¸ªè‡ªç”±çš„ã€å…¼å®¹æ€§å¥½çš„åµŒå…¥å¼ linux å‘è¡Œç‰ˆã€‚ä½œä¸ºè½¯è·¯ç”±ç©å®¶å¿…å¤‡çš„ä¸€æ¬¾ç¥å™¨ï¼Œå¯ä»¥å®ç°è¯¸å¦‚å»å¹¿å‘Šï¼Œå¤šæ‹¨å’Œç§‘å­¦ä¸Šç½‘ç­‰å¤šç§åŠŸèƒ½ã€‚æœ¬æ–‡ä»‹ç»openwrtåœ¨å„ç§å¹³å°ä¸Šçš„éƒ¨ç½²æµç¨‹ã€‚</p>
<span id="continue-reading"></span><h2 id="yao-shi-xian-de-mu-biao"><strong>è¦å®ç°çš„ç›®æ ‡</strong></h2>
<ul>
<li>1.IPv6 åˆ†é…åˆ°æ¯ä¸ªè®¾å¤‡ï¼›</li>
<li>2.NATç±»å‹ä¸ºNAT1ï¼ˆå…¨é”¥å½¢ï¼‰ï¼›</li>
<li>3.å¯æ§çš„æµé‡è®°å½•ä¸IPæ§åˆ¶/QOSï¼›</li>
<li>4.å¯é çš„ç¡¬ä»¶åŠ é€Ÿï¼›</li>
<li>5.å¤šçº¿å¤šæ’­/å®½å¸¦æé€Ÿï¼›</li>
<li>6.PPPoEæ‹¨å·ï¼Œæ›¿ä»£ä¸€éƒ¨åˆ†å…‰çŒ«åŠŸèƒ½ï¼›</li>
<li>7.æ™ºèƒ½DNSé…ç½®ä¸å»å¹¿å‘Šï¼›</li>
<li>8.VPNé…ç½®å›å®¶ï¼›</li>
<li>9.å®ç°é€æ˜ä»£ç†ã€‚</li>
</ul>
<blockquote>
<p>å‰©ä½™ä¸“ä¸šè·¯ç”±åŠŸèƒ½å¯ä»¥ç”±ROSæ›¿ä»£ï¼ŒæœåŠ¡åˆ™è·‘åœ¨NASç³»ç»Ÿä¸Šï¼Œé¿å…ALL in Boomï¼</p>
</blockquote>
<h2 id="xuan-ze-he-gua-de-she-bei"><strong>é€‰æ‹©åˆé€‚çš„è®¾å¤‡</strong></h2>
<p>æ— è®ºæ˜¯ä¼ ç»Ÿçš„æ— çº¿è·¯ç”±å™¨è¿˜æ˜¯å°ä¸»æœºéƒ½æœ‰æˆä¸ºopenwrtè·¯ç”±çš„æ½œåŠ›ã€‚æˆªæ­¢åˆ°ä»Šå¤©ï¼Œå·²ç»æœ‰20å¤šä¸ªå“ç‰Œï¼ˆå°ç±³ï¼Œåç¡•ï¼Œé”æ·ï¼Œåä¸‰ç­‰ï¼‰30å¤šç§æ¶æ„ï¼ˆx86,ipq,bcm,mtdç­‰ï¼‰æ”¯æŒåˆ·å…¥openwrtï¼›ä½ å¯ä»¥åœ¨è¿™ä¸ª<a href="https://mao.fan/select">ç½‘ç«™</a>æ‰¾åˆ°ç¬¦åˆä½ é¢„ç®—å’Œå…¶ä»–è¦æ±‚çš„ï¼Œèƒ½åˆ·æœºçš„è·¯ç”±å™¨ã€‚
ä¼ ç»Ÿå®¶ç”¨æ— çº¿è·¯ç”±å™¨ç”±äºä¸»é¢‘ä½ï¼Œå†…å­˜å°ï¼Œå¹¶ä¸é€‚åˆä½œä¸ºè½¯è·¯ç”±ï¼›è€Œ NAS-è½¯è·¯ç”±ä¸€ä½“å¼ åˆæœ‰ all in boom çš„é£é™©ï¼Œå› æ­¤æ¨èX86å¹³å°ä½œä¸ºç‰©ç†æœºã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨ armbian å¹³å°æˆ–æ˜¯å¼€å‘æ¿ï¼Œä¾‹å¦‚ç½‘å¿ƒäº‘è€æ¯é¸¡ã€æ ‘è“æ´¾ç­‰è®¾å¤‡ã€‚æˆªè‡³æœ¬æ–‡æ’°å†™æ—¶é—´ï¼ŒäºŒæ‰‹å¹³å°ä¸Šçš„ä»·æ ¼ä¸å¤ªåˆ©å¥½ï¼šä¸€å°J1900å¹³å°çš„å”®ä»·å¾€å¾€åœ¨200å·¦å³ï¼Œè€Œä¸“é—¨çš„å¤šç½‘å£å·¥æ§æœºä»·æ ¼åœ¨200åˆ°1000ä¸ç­‰ï¼Œæ ‘è“æ´¾æ›´æ˜¯æˆä¸ºäº†ç†è´¢äº§å“ï¼Œéœ€è¦æ…é‡é€‰æ‹©ã€‚</p>
<h2 id="xuan-ze-he-gua-de-xi-tong"><strong>é€‰æ‹©åˆé€‚çš„ç³»ç»Ÿ</strong></h2>
<p>é™¤äº†openwrtä¸»çº¿å¤–ï¼Œè¿˜å¯ä»¥é€‰æ‹©ï¼š</p>
<ul>
<li>
<p><a href="https://github.com/coolsnowwolf/lede">LEDE</a> é«˜è´¨é‡ï¼Œæ›´æ–°å¿«é€Ÿï¼Œå…·æœ‰æ–°ç‰¹æ€§çš„openwrtåˆ†æ”¯ã€‚</p>
</li>
<li>
<p><a href="https://github.com/istoreos">iStoreOS</a> iStoreOSæ˜¯openwrtçš„ä¸€ä¸ªåˆ†æ”¯ï¼ŒiStoreOS æä¾›äº†è½¯ä»¶ä¸­å¿ƒï¼šiStoreï¼Œä»¥åŠè¾ƒç¾è§‚çš„ç•Œé¢å’Œdockeræ”¯æŒï¼Œå¯¹æ–°æ‰‹ä½“éªŒè¾ƒå¥½ã€‚</p>
</li>
<li>
<p><a href="https://firmware-selector.immortalwrt.org/">ImmortalWrt</a> æ˜¯ä¸€ä¸ªåŸç‰ˆopenwrtçš„åˆ†æ”¯ï¼Œä¸­æ–‡ä¼˜åŒ–å¥½ï¼Œæ›´æ–°ä¹Ÿå‹¤å¿«ï¼Œå†…ç½®é•œåƒæºå¯ä»¥ç›´è¿ä¸‹è½½&amp;æ›´æ–°ã€‚</p>
</li>
</ul>
<h2 id="ru-he-de-dao-yi-ge-openwrtxi-tong"><strong>å¦‚ä½•å¾—åˆ°ä¸€ä¸ªopenwrtç³»ç»Ÿ</strong></h2>
<ul>
<li>å¯ä»¥åœ¨æ©å±±è®ºå›ä¸Šä½¿ç”¨ä»–äººç¼–è¯‘å¥½çš„ç°æˆçš„é•œåƒï¼Œå¦‚"é«˜å¤§å…¨","ç²¾å“å°åŒ…"ç­‰ç­‰ï¼Œä½†å­˜åœ¨ä¸€å®šé£é™©ï¼›</li>
<li>å¯ä»¥ä½¿ç”¨<a href="https://downloads.openwrt.org/">å®˜æ–¹å›ºä»¶</a>ä¸‹è½½å¾—åˆ°ä¸€ä¸ªæœ€å°åŒ–çš„ç³»ç»Ÿï¼Œå†ä¸€æ­¥æ­¥æ·»åŠ è‡ªå·±è¦ç”¨çš„åŒ…ï¼›</li>
<li>å¯ä»¥ä½¿ç”¨<a href="https://firmware-selector.openwrt.org/">Openwrt åœ¨çº¿ç¼–è¯‘</a>æˆ–<a href="https://openwrt.ai/?target=x86%2F64&amp;id=generic">Openwrt.ai</a>åœ¨çº¿ç¼–è¯‘
ä¸€ä¸ªå›ºä»¶ï¼›</li>
<li>å¯ä»¥ä½¿ç”¨GitHub action äº‘ç¼–è¯‘ä¸€ä¸ªå›ºä»¶ï¼›</li>
<li>å¯ä»¥åœ¨æœ¬åœ°linuxç¯å¢ƒä¸­è¿›è¡Œç¼–è¯‘ã€‚</li>
</ul>
<h2 id="x86ping-tai-an-zhuang-zhun-bei"><strong>X86å¹³å°å®‰è£…å‡†å¤‡ï¼š</strong></h2>
<ul>
<li>
<p>ä¸€ä¸ªUç›˜ä¸ä¸€å°åŒç½‘å£ç‰©ç†æœº</p>
</li>
<li>
<p>openwrt çš„ç¼–è¯‘åŒ…ï¼Œå®˜æ–¹ç½‘ç«™ï¼š<a href="https://firmware-selector.openwrt.org/?version=24.10.0-rc2&amp;target=ipq40xx%2Fgeneric&amp;id=glinet_gl-a1300">OpenWrt Firmware Selector</a></p>
</li>
<li>
<p>æˆ–è€…ç”¨ç”± eSir å¤§ä½¬ç¼–è¯‘çš„<a href="https://drive.google.com/drive/folders/1uRXg_krKHPrQneI3F2GNcSVRoCgkqESr">æ‡’äººåŒ…</a></p>
</li>
<li>
<p>PE å¯åŠ¨ç›˜ï¼Œè¿™é‡Œæ¨è<a href="https://github.com/VirtualHotBar/HotPEToolBox">HotPE</a></p>
</li>
<li>
<p><a href="https://www.roadkil.net/program.php?ProgramID=12#google_vignette">img å†™ç›˜å·¥å…·</a></p>
</li>
</ul>
<h2 id="x86ping-tai-an-zhuang-liu-cheng"><strong>X86å¹³å°å®‰è£…æµç¨‹ï¼š</strong></h2>
<p>1.è¿›å…¥PEç¯å¢ƒï¼š</p>
<ul>
<li>æ‰“å¼€å¾®PEï¼Œå°†å…¶å®‰è£…è¿›Uç›˜ä¸­ï¼Œå®‰è£…å®Œæˆåå°† img å·¥å…·å’Œ openwrt åŒ…ä¸€èµ·æ”¾è¿›å»ï¼›</li>
<li>å°†Uç›˜æ’å…¥ç›®æ ‡ä¸»æœºï¼Œè¿›å…¥ BIOS-boot è®¾ç½®Uç›˜ä¼˜å…ˆå¯åŠ¨ï¼Œå„ä¸»æ¿è¿›å…¥ BIOS çš„æŒ‰é”®ä¸åŒï¼Œä¸ç¡®å®šçš„è¯å»ºè®®éƒ½è¯•ä¸€éã€‚</li>
</ul>
<p>2.æ ¼å¼åŒ–ç¡¬ç›˜å¹¶å†™ç›˜</p>
<ul>
<li>è¿›å…¥PEç¯å¢ƒä¸­ï¼Œå¯ä»¥çœ‹åˆ°å­˜åœ¨åä¸ºâ€œåˆ†åŒºåŠ©æ‰‹â€çš„è½¯ä»¶ï¼Œæ‰“å¼€å®ƒå¹¶å°†ç›®æ ‡ä¸»æœºç¡¬ç›˜æ ¼å¼åŒ–ï¼›æ³¨æ„ä¸è¦åˆ†åŒºï¼ä¸è¦åˆ†åŒºï¼ä¸è¦è®¾ç½®æ–‡ä»¶ç³»ç»Ÿï¼å¦åˆ™åç»­å¯èƒ½æ— æ³•ç¼–è¯‘ï¼ç‚¹å‡»å·¦ä¸Šè§’æäº¤å¹¶æ‰§è¡Œ</li>
<li>æ‰“å¼€imgå†™ç›˜å·¥å…·ï¼Œå°†openwrtåŒ…å†™å…¥ç¡¬ç›˜ï¼Œæ³¨æ„ä¸è¦å†™è¿›Uç›˜é‡Œã€‚</li>
</ul>
<p>3.è¿›å…¥é…ç½®ç•Œé¢</p>
<ul>
<li>é‡å¯ç³»ç»Ÿå¹¶å¿«é€Ÿæ‹”å‡ºUç›˜ï¼Œé¿å…é‡æ–°è¿›å…¥PEï¼›è¿™æ—¶ç³»ç»Ÿå¼€å§‹è¿è¡Œäº†ã€‚æ³¨æ„Esirå›ºä»¶æ˜¯ä¸è·‘ç çš„ï¼Œæ— éœ€æ‹…å¿ƒã€‚- ä¸€ä¸ªUç›˜ä¸ä¸€å°åŒç½‘å£ç‰©ç†æœº</li>
<li>å½“çœ‹åˆ° <code>please press Enter to activate this console</code>è¿™ä¸ªæç¤ºçš„æ—¶å€™ç³»ç»Ÿå°±å®‰è£…å®Œæ¯•äº†ã€‚å¯ä½¿ç”¨ passwd å‘½ä»¤è®¾ç½®å¯†ç ã€‚è½¯è·¯ç”±å°†è‡ªåŠ¨è·å–IPåœ°å€ï¼Œéšåæˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€è¯¥åœ°å€ï¼Œå³å¯çœ‹åˆ° Lucl ç•Œé¢ã€‚</li>
</ul>
<blockquote>
<p>ç¡¬ç›˜ç©ºé—´æœ‰ä¸€éƒ¨åˆ†æ²¡æœ‰è¢«æ ¼å¼åŒ–ï¼Œå¯ä»¥æ‰‹åŠ¨æ ¼å¼åŒ–ä¸ºext4å¹¶æŒ‚è½½ã€‚</p>
</blockquote>
<blockquote>
<p>æ³¨æ„åˆå§‹IPå¾€å¾€æ˜¯192.168.1.1ï¼Œå¦‚æœå’Œå…‰çŒ«å†²çªéœ€è¦åœ¨ç½‘ç»œ-æ¥å£ä¸­æ›´æ”¹ã€‚</p>
</blockquote>
<blockquote>
<p>åŸºæœ¬ç³»ç»Ÿä¸»é¢˜æ¯”è¾ƒç®€é™‹ï¼Œå¯ä»¥ä½¿ç”¨luci-theme-argonã€‚</p>
</blockquote>
<blockquote>
<p>åˆ·é”™ä¸»é¢˜æ— æ³•æ‰“å¼€luciï¼šé€šè¿‡ SSH ç™»å½•è·¯ç”±å™¨ï¼Œåˆ‡æ¢åˆ°å¦ä¸€ä¸ªå·²çŸ¥æ­£å¸¸çš„ä¸»é¢˜ï¼ˆä¾‹å¦‚ Bootstrapï¼‰ï¼š
<code>uci set luci.main.mediaurlbase='/luci-static/bootstrap' uci commit luci /etc/init.d/uhttpd restart</code>
ç„¶åé‡æ–°è®¿é—® Web ç•Œé¢ï¼ŒæŸ¥çœ‹æ˜¯å¦æ¢å¤æ­£å¸¸ã€‚</p>
</blockquote>
<h2 id="x86ping-tai-ben-di-bian-yi-wan-zheng-openwrt"><strong>X86å¹³å°æœ¬åœ°ç¼–è¯‘å®Œæ•´openwrt</strong></h2>
<ul>
<li>
<p><strong>ç³»ç»Ÿç‰ˆæœ¬ï¼šDebian 11 æˆ–è€… Ubuntu LTS</strong></p>
</li>
<li>
<p><strong>ç½‘ç»œè¦æ±‚ï¼šç§‘å­¦ä¸Šç½‘ç¯å¢ƒï¼Œé…ç½®æ¨è 2H4G ä»¥ä¸Š</strong></p>
</li>
<li>
<p><strong>ç¼–è¯‘ä¾èµ–</strong></p>
</li>
</ul>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>å®‰è£…ä¾èµ–
</span><span>
</span><span>sudo apt update -y
</span><span>
</span><span>sudo apt full-upgrade -y
</span><span>
</span><span>sudo apt install -y ack antlr3 asciidoc autoconf automake autopoint binutils bison build-essential \
</span><span>bzip2 ccache clang cmake cpio curl device-tree-compiler flex gawk gcc-multilib g++-multilib gettext \
</span><span>genisoimage git gperf haveged help2man intltool libc6-dev-i386 libelf-dev libfuse-dev libglib2.0-dev \
</span><span>libgmp3-dev libltdl-dev libmpc-dev libmpfr-dev libncurses5-dev libncursesw5-dev libpython3-dev \
</span><span>libreadline-dev libssl-dev libtool llvm lrzsz msmtp ninja-build p7zip p7zip-full patch pkgconf \
</span><span>python3 python3-pyelftools python3-setuptools qemu-utils rsync scons squashfs-tools subversion \
</span><span>swig texinfo uglifyjs upx-ucl unzip vim wget xmlto xxd zlib1g-dev
</span><span>
</span></code></pre>
<ul>
<li><strong>æ¸…ç†</strong></li>
</ul>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>sudo apt autoremove --purge
</span><span>sudo apt clean
</span></code></pre>
<ul>
<li><strong>æ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œç”¨äºç¼–è¯‘å›ºä»¶(å¯é€‰)</strong></li>
</ul>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>useradd -m openwrt  # æ–°å»ºä¸€ä¸ªåä¸º openwrt çš„ç”¨æˆ·
</span></code></pre>
<blockquote>
<p>ä¸å¯ä»¥ä½¿ç”¨Rootç”¨æˆ·è¿›è¡Œç¼–è¯‘ï¼!!</p>
</blockquote>
<ul>
<li><strong>ä¿®æ”¹ç”¨æˆ·é»˜è®¤çš„ Shell</strong></li>
</ul>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>apt install -y sudo
</span><span>
</span><span>usermod -s /bin/bash openwrt
</span></code></pre>
<ul>
<li><strong>åˆ‡æ¢ç”¨æˆ·</strong></li>
</ul>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>su openwrt
</span><span>
</span><span>cd ~
</span></code></pre>
<ul>
<li><strong>æ‹‰å–æºç ï¼Œè¿™é‡Œç”¨çš„æ˜¯ LEDE åˆ†æ”¯æºç ï¼š</strong></li>
</ul>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>git clone https://github.com/coolsnowwolf/lede
</span><span>
</span><span>cd lede
</span></code></pre>
<h3 id="mu-lu-shuo-ming">ç›®å½•è¯´æ˜</h3>
<ul>
<li>
<p>buildroot: OpenWrt çš„æ ¸å¿ƒç›®å½•ï¼ŒåŒ…å«æ„å»ºç³»ç»Ÿç›¸å…³çš„æ–‡ä»¶ã€‚</p>
<ul>
<li><code>feeds.conf.default</code>ï¼šå®šä¹‰è½¯ä»¶åŒ…æºçš„é…ç½®æ–‡ä»¶ã€‚</li>
<li><code>files/</code>ï¼šå­˜æ”¾è‡ªå®šä¹‰æ–‡ä»¶ï¼Œç”¨äºè¦†ç›–é»˜è®¤çš„ root æ–‡ä»¶ç³»ç»Ÿã€‚</li>
</ul>
</li>
<li>
<p>target: åŒ…å«ç›®æ ‡è®¾å¤‡æ¶æ„çš„é…ç½®å’Œæ„å»ºä¿¡æ¯ã€‚</p>
<ul>
<li><code>linux/</code>ï¼šåŒ…å«ä¸ Linux å†…æ ¸ç›¸å…³çš„ä»£ç å’Œé…ç½®ã€‚</li>
<li><code>generic/</code>ï¼šé€šç”¨é…ç½®æ–‡ä»¶ã€‚</li>
<li><code>platform/</code>ï¼šé’ˆå¯¹å…·ä½“è®¾å¤‡å¹³å°çš„ç‰¹å®šé…ç½®ã€‚</li>
</ul>
</li>
<li>
<p>package: åŒ…å«æ‰€æœ‰ OpenWrt çš„è½¯ä»¶åŒ…ã€‚</p>
<ul>
<li><code>base/</code>ï¼šåŸºæœ¬åŠŸèƒ½ç›¸å…³çš„è½¯ä»¶åŒ…ï¼ˆå¦‚ BusyBoxã€opkgï¼‰ã€‚</li>
<li><code>kernel/</code>ï¼šä¸å†…æ ¸ç›¸å…³çš„è¡¥ä¸æˆ–æ¨¡å—ã€‚</li>
<li><code>network/</code>ï¼šç½‘ç»œå·¥å…·å’Œåè®®ï¼ˆå¦‚ DHCPã€DNSï¼‰ã€‚</li>
<li><code>utils/</code>ï¼šå„ç§å®ç”¨å·¥å…·ï¼ˆå¦‚ç¼–è§£ç å™¨ã€æ–‡ä»¶å·¥å…·ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p>config: å­˜æ”¾é»˜è®¤é…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚ <code>Config.in</code>ï¼Œç”¨äºå®šä¹‰èœå•é¡¹ã€‚</p>
</li>
<li>
<p>scripts: æ„å»ºè¿‡ç¨‹ä¸­ä½¿ç”¨çš„è¾…åŠ©è„šæœ¬ï¼ˆå¦‚ç”Ÿæˆè¡¥ä¸ã€ç¼–è¯‘é•œåƒï¼‰ã€‚</p>
</li>
<li>
<p>toolchain: æ„å»ºå·¥å…·é“¾æ‰€éœ€çš„æ–‡ä»¶ï¼Œå¦‚ç¼–è¯‘å™¨ã€é“¾æ¥å™¨ã€‚</p>
</li>
<li>
<p>tools: ä¸€äº›æ„å»ºç³»ç»Ÿä¾èµ–çš„é¢å¤–å·¥å…·ï¼ˆå¦‚ <code>autoconf</code>ã€<code>zlib</code>ï¼‰ã€‚</p>
</li>
<li>
<p>include: å­˜æ”¾ Makefile çš„é€šç”¨æ¨¡æ¿å’Œå…¶ä»–å…¨å±€å®šä¹‰æ–‡ä»¶ã€‚</p>
</li>
<li>
<p>feeds: åŒ…å«é€šè¿‡ <code>feeds.conf</code> é…ç½®çš„å¤–éƒ¨è½¯ä»¶åŒ…æºã€‚</p>
</li>
<li>
<p>documentation: åŒ…å«ä¸ OpenWrt é¡¹ç›®ç›¸å…³çš„æ–‡æ¡£ï¼Œå¦‚æ„å»ºæŒ‡å—å’Œå¼€å‘æ–‡æ¡£ã€‚</p>
</li>
<li>
<p><strong>æ·»åŠ è½¯ä»¶æº,å¯è‡ªè¡Œæ·»åŠ è½¯ä»¶æºè‡³ feeds.conf.default æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ç›´æ¥gitæ·»åŠ éœ€è¦çš„è½¯ä»¶åˆ°ledeç›®å½•ä¸‹ï¼š</strong></p>
</li>
</ul>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>vim feeds.conf.default
</span></code></pre>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>å¸¸ç”¨æº
</span><span>src-git kenzo https://github.com/kenzok8/openwrt-packages
</span><span>src-git small https://github.com/kenzok8/small
</span><span>src-git haibo https://github.com/haiibo/openwrt-packages
</span><span>src-git liuran001 https://github.com/liuran001/openwrt-packages
</span></code></pre>
<ul>
<li><strong>å•ç‹¬æ·»åŠ </strong>ï¼ˆåœ¨æ›´æ–°å¹¶å®‰è£…æ’ä»¶ä¹‹å‰æ‰§è¡Œï¼‰ä¾‹å¦‚ï¼š</li>
</ul>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>git clone https://github.com/chenmozhijin/turboacc.git
</span></code></pre>
<ul>
<li><strong>æ›´æ–°å¹¶å®‰è£…æ’ä»¶</strong></li>
</ul>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>./scripts/feeds clean
</span><span>
</span><span>./scripts/feeds update -a
</span><span>
</span><span>./scripts/feeds install -a
</span></code></pre>
<ul>
<li><strong>è‡ªå®šä¹‰é…ç½®</strong></li>
</ul>
<p><strong>ä¿®æ”¹é»˜è®¤IPä¸º 10.0.0.2</strong></p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>sed -i &#39;s/192.168.1.1/192.168.2.1/g&#39; package/base-files/files/bin/config_generate
</span></code></pre>
<p><strong>ä¿®æ”¹é»˜è®¤ä¸»æœºå</strong></p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>sed -i &#39;/uci commit system/i\uci set system.@system[0].hostname=&#39;OpenWrt&#39;&#39; package/lean/default-settings/files/zzz-default-settings
</span></code></pre>
<p><strong>åŠ å…¥ç¼–è¯‘è€…ä¿¡æ¯</strong></p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>sed -i &quot;s/OpenWrt /smith build $(TZ=UTC-8 date &quot;+%Y.%m.%d&quot;) @ OpenWrt /g&quot; package/lean/default-settings/files/zzz-default-settings
</span></code></pre>
<p><strong>ä¿®æ”¹é»˜è®¤ä¸»é¢˜</strong></p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>sed -i &quot;s/luci-theme-bootstrap/luci-theme-argon/g&quot; feeds/luci/collections/luci/Makefile
</span></code></pre>
<p>æ‰§è¡Œ <strong>make menuconfig</strong> å‘½ä»¤è¿›å…¥ç¼–è¯‘èœå•ã€‚</p>
<p><strong>ç¼–è¯‘é…ç½®èœå•è¯´æ˜ï¼ˆéƒ¨åˆ†ï¼‰</strong></p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>Target System (Broadcom BCM27xx) #é€‰æ‹©å¤„ç†å™¨æ¶æ„
</span><span>Subtarget (BCM2711 boards (64 bit)) #é€‰æ‹©å¤„ç†å™¨
</span><span>Target Profile (Raspberry Pi 4B/400/4CM (64bit)) #é¢„åˆ¶é…ç½®æ–‡ä»¶
</span><span>Target Images #å›ºä»¶æ˜ åƒè®¾ç½®
</span><span>ramdisk # å†…å­˜ç›˜, ç¡¬ä»¶å†…å­˜å……è£•çš„è¯å¯ä»¥æ‰“å¼€ï¼Œæœ‰æ•ˆæå‡æ€§èƒ½
</span><span>    Compression # å‹ç¼©ç­‰çº§(noneè¡¨ç¤ºä¸å‹ç¼©)
</span><span>    Root filesystem archives #æ ¹æ–‡ä»¶ç³»ç»Ÿå­˜æ¡£ç±»å‹
</span><span>        cpio.gz
</span><span>        tar.gz
</span><span>    Root filesystem images #æ ¹æ–‡ä»¶ç³»ç»Ÿæ ¼å¼
</span><span>        ext4 #é€‚ç”¨äºå¤§å®¹é‡é—ªå­˜,æ˜“äºä¿®æ”¹åˆ†åŒºå¤§å°,æ²¡æœ‰æ¢å¤å‡ºå‚è®¾ç½®çš„åŠŸèƒ½
</span><span>        squashfs #é€‚ç”¨äºå°å®¹é‡é—ªå­˜ï¼Œä¸å¯ä¿®æ”¹åˆ†åŒºå¤§å°ï¼Œæœ‰æ¢å¤å‡ºå‚è®¾ç½®çš„åŠŸèƒ½
</span><span>        Gzip images #Gzipå­˜æ¡£
</span><span>    Image Options
</span><span>        Kernel partition size #å†…æ ¸åˆ†åŒºå¤§å°ï¼Œå»ºè®®64Måˆ°256Mï¼Œè¶³å¤Ÿäº†
</span><span>        Root filesystem partition size #è·Ÿæ–‡ä»¶ç³»ç»Ÿåˆ†åŒºå¤§å°ï¼Œæ ¹æ®é—ªå­˜å¤§å°è‡ªè¡Œè®¾å®š
</span><span>        Make /var persistent #æŒä¹…åŒ–/var(å¼€å¯åé‡å¯è½¯è·¯ç”±/varä¸‹å†…å®¹ä¼šä¿ç•™)
</span><span>Enable experimental features by default #é»˜è®¤å¯ç”¨å®éªŒæ€§åŠŸèƒ½
</span><span>Global build settings #å…¨å±€ç¼–è¯‘è®¾ç½®
</span><span>Advanced configuration options (for developers) #é«˜çº§é€‰é¡¹(ä»…ä¾›å¼€å‘è€…)
</span><span>Build the OpenWrt Image Builder #ç¼–è¯‘OpenWrté•œåƒç¼–è¯‘å™¨
</span><span>Build the OpenWrt SDK #ç¼–è¯‘OpenWrt SDK
</span><span>Package the OpenWrt-based Toolchain #æ‰“åŒ…OpenWrtå·¥å…·é“¾
</span><span>Image configuration #é•œåƒé€‰é¡¹
</span><span>Base system #åŸºæœ¬ç»„ä»¶
</span><span>Administration #ç®¡ç†å‘˜å·¥å…·
</span><span>Boot Loaders #å¼•å¯¼ç¨‹åº
</span><span>Development #å¼€å‘è€…å·¥å…·
</span><span>Extra packages #é¢å¤–åŒ…
</span><span>Firmware #å›ºä»¶å·¥å…·
</span><span>Fonts #å­—ä½“
</span><span>Kernel modules #å†…æ ¸æ¨¡å—
</span><span>Languages #é¢å¤–çš„è¯­è¨€(Python3,PHP,NodeJSç­‰)
</span><span>Libraries #ç³»ç»Ÿåº“
</span><span>LuCI #LuCIæ’ä»¶(ä¸€èˆ¬åªéœ€ä¿®æ”¹åº”ç”¨å’Œä¸»é¢˜)
</span><span>    Collections #åˆé›†
</span><span>    Modules #æ¨¡å—
</span><span>    Applications #åº”ç”¨ç¨‹åº
</span><span>    Themes #ä¸»é¢˜
</span><span>    Protocols #åè®®æ”¯æŒ
</span><span>    Libraries #è¿è¡Œåº“
</span><span>    default-settings # é»˜è®¤é€‰é¡¹(è‡ªåŠ¨é…ç½®è¯­è¨€åŒ…)
</span><span>Mail #é‚®ä»¶
</span><span>Multimedia #å¤šåª’ä½“
</span><span>Network #ç½‘ç»œç›¸å…³
</span><span>Sound #éŸ³é¢‘
</span><span>Utilities #å„ç±»å®ç”¨è½¯ä»¶(æ¯”å¦‚VIM)
</span><span>Xorg
</span></code></pre>
<ul>
<li><strong>èœå•é€‰é¡¹è¯´æ˜</strong></li>
</ul>
<p><strong>é€‰æ‹© CPU ç±»å‹</strong></p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>Target System (x86) --&gt; # è½¯è·¯ç”±é€‰æ‹© x86ï¼Œç¡¬è·¯ç”±æ ¹æ®å‹å·å‚å®¶è‡ªè¡Œé€‰æ‹©
</span><span>
</span><span>Subtarget (x86_64) --&gt; # CPU å­é€‰é¡¹
</span><span>
</span><span>Target Profile (Generic x86/64) --&gt; # å‚å®¶å…·ä½“å‹å·
</span></code></pre>
<p><strong>è®¾ç½®é•œåƒç¼–è¯‘çš„æ ¼å¼ï¼ˆsquashfsï¼Œext4ï¼‰</strong></p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>Target Images --&gt; # é»˜è®¤ squashfs
</span></code></pre>
<p><strong>æ·»åŠ è¾ƒå¤šæ’ä»¶æ—¶ï¼Œä¸ºäº†é¿å…ç©ºé—´ä¸è¶³ï¼Œå»ºè®®ä¿®æ”¹ä¸‹é¢ä¸¤é¡¹é»˜è®¤å¤§å°ï¼ˆx86/64ï¼‰</strong></p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>Target Images --&gt; (16) Kernel partition size (in MB) # é»˜è®¤æ˜¯16ï¼Œå»ºè®®ä¿®æ”¹ä¸º256
</span></code></pre>
<p><strong>å¼€å¯ IPv6 æ”¯æŒ</strong></p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>Extra packages --&gt; ipv6helperï¼ˆé€‰å®šè¿™ä¸ªåï¼Œä¸‹é¢å‡ é¡¹ä¼šè‡ªåŠ¨é€‰æ‹©ï¼‰
</span></code></pre>
<p><strong>å¼€å¯é€‚ç”¨äº VMware çš„ VMware Tools</strong></p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>Utilities --&gt; open-vm-tools
</span><span>
</span><span>Utilities --&gt; open-vm-tools-fuse
</span></code></pre>
<p><strong>é€‰æ‹©æ’ä»¶</strong></p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>LuCI --&gt; Applications # æ ¹æ®éœ€è¦é€‰æ‹©ï¼Œ* ä»£è¡¨ç¼–å…¥å›ºä»¶ï¼ŒM è¡¨ç¤ºç¼–è¯‘æˆæ¨¡å—æˆ–è€…IPKåŒ…ï¼Œä¸ºç©ºè¡¨ç¤ºä¸ç¼–è¯‘
</span></code></pre>
<p><strong>é€‰æ‹©ä¸»é¢˜</strong></p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>LuCI --&gt; Themes # é€‰æ‹©å–œæ¬¢çš„ä¸»é¢˜ï¼Œå¯ä»¥é€‰å¤šä¸ª
</span></code></pre>
<p>é…ç½®å®Œæˆåä½¿ç”¨ç¼–è¯‘èœå•åº•éƒ¨çš„ Save ä¿å­˜ï¼Œç„¶åé€€å‡ºèœå• Exitï¼Œå¼€å§‹ä¸‹è½½è½¯ä»¶åŒ…</p>
<ul>
<li><strong>é¢„ä¸‹è½½ç¼–è¯‘æ‰€éœ€çš„è½¯ä»¶åŒ…</strong></li>
</ul>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>make download -j8
</span></code></pre>
<ul>
<li><strong>æ£€æŸ¥æ–‡ä»¶å®Œæ•´æ€§</strong></li>
</ul>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>find dl -size -1024c -exec ls -l {} \;
</span></code></pre>
<p>æ£€æŸ¥æ–‡ä»¶å®Œæ•´æ€§å‘½ä»¤å¯ä»¥åˆ—å‡ºä¸‹è½½ä¸å®Œæ•´çš„æ–‡ä»¶ï¼Œå°äº1kçš„æ–‡ä»¶å±äºä¸‹è½½ä¸å®Œæ•´ï¼Œå¦‚æœå­˜åœ¨åˆ™ç”¨ä¸‹é¢çš„å‘½ä»¤åˆ é™¤ï¼Œç„¶åé‡æ–°ä¸‹è½½ç¼–è¯‘æ‰€éœ€çš„è½¯ä»¶åŒ…ï¼Œå†æ¬¡æ£€æŸ¥.ç¡®è®¤æ‰€æœ‰æ–‡ä»¶å®Œæ•´å¯å¤§å¤§æé«˜ç¼–è¯‘æˆåŠŸç‡ï¼Œé¿å…æµªè´¹æ—¶é—´</p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>find dl -size -1024c -exec rm -f {} \;
</span></code></pre>
<p>æœ€åç¼–è¯‘å›ºä»¶ï¼Œç¼–è¯‘å®Œæˆåè¾“å‡ºè·¯å¾„æ˜¯ <strong>bin/targets</strong>ï¼Œé»˜è®¤å¯†ç æ˜¯ <strong>password</strong>.</p>
<ul>
<li><strong>ç¼–è¯‘å›ºä»¶ï¼ˆ-j åé¢æ˜¯çº¿ç¨‹æ•°ï¼Œé¦–æ¬¡ç¼–è¯‘æ¨èç”¨å•çº¿ç¨‹ï¼‰</strong></li>
</ul>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>make V=s -j1
</span></code></pre>
<ul>
<li><strong>äºŒæ¬¡ç¼–è¯‘</strong></li>
</ul>
<p>æ‹‰å–æœ€æ–° OpenWrt æºç å’Œæ›´æ–° feeds æºä¸­çš„è½¯ä»¶åŒ…æºç </p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>cd lede
</span><span>
</span><span>git pull
</span><span>
</span><span>./scripts/feeds update -a
</span><span>
</span><span>./scripts/feeds install -a
</span></code></pre>
<p>æ¸…é™¤æ—§çš„ç¼–è¯‘äº§ç‰©å’Œç›®å½•ï¼ˆå¯é€‰ï¼‰</p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>make clean
</span></code></pre>
<ul>
<li>æºç æœ‰å¤§è§„æ¨¡æ›´æ–°æˆ–è€…å†…æ ¸æ›´æ–°åæ‰§è¡Œï¼Œä»¥ä¿è¯ç¼–è¯‘è´¨é‡;æ­¤æ“ä½œä¼šåˆ é™¤ /bin å’Œ /build_dir ç›®å½•ä¸­çš„æ–‡ä»¶</li>
</ul>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>make dirclean
</span></code></pre>
<blockquote>
<p>æ›´æ¢æ¶æ„ç¼–è¯‘å‰å¿…é¡»æ‰§è¡Œ</p>
</blockquote>
<blockquote>
<p>æ­¤æ“ä½œä¼šåˆ é™¤ /bin å’Œ /build_dir ç›®å½•çš„ä¸­çš„æ–‡ä»¶ï¼ˆmake cleanï¼‰ï¼Œä»¥åŠ /staging_dirã€/toolchainã€/tmp å’Œ /logs ä¸­çš„æ–‡ä»¶</p>
</blockquote>
<p>åŒé¦–æ¬¡ç¼–è¯‘ï¼Œå¤šçº¿ç¨‹ç¼–è¯‘å¤±è´¥åè‡ªåŠ¨è¿›å…¥å•çº¿ç¨‹ç¼–è¯‘ï¼Œå¤±è´¥åˆ™è¾“å‡ºè¯¦ç»†æ—¥å¿—</p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>make defconfig
</span><span>
</span><span>make download -j8
</span><span>
</span><span>find dl -size -1024c -exec ls -l {} \;
</span><span>
</span><span>make -j$(nproc) || make -j1 || make -j1 V=s
</span></code></pre>
<h2 id="ru-guo-xu-yao-zhong-xin-pei-zhi">å¦‚æœéœ€è¦é‡æ–°é…ç½®</h2>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>rm -rf ./tmp &amp;&amp; rm -rf .config # æ¸…é™¤ä¸´æ—¶æ–‡ä»¶å’Œç¼–è¯‘é…ç½®æ–‡ä»¶
</span><span>
</span><span>make menuconfig
</span><span>
</span><span>make download -j8
</span><span>
</span><span>find dl -size -1024c -exec ls -l {} \;
</span><span>
</span><span>make -j$(nproc) || make -j1 || make -j1 V=s
</span></code></pre>
<h2 id="armping-tai-an-zhuang-openwrt">Armå¹³å°å®‰è£…OpenWrtï¼š</h2>
<p>ç›¸æ¯”X86å¹³å°ï¼Œarmæ¶æ„çš„è®¾å¤‡å…¼å®¹æ€§ä¸é«˜ï¼Œä¸èƒ½éšä¾¿æ‰¾ä¸€ä¸ªåŒ…å°±èƒ½å®‰è£…ã€‚ä»¥ä¸‹æ˜¯ä¸€èˆ¬æ­¥éª¤ï¼š</p>
<ul>
<li>
<p>é¦–å…ˆå¾—çŸ¥é“ä½ çš„è®¾å¤‡çš„CPUï¼Œæ¯”å¦‚ipq40XXç³»åˆ—ï¼Œç„¶ååœ¨å¯¹åº”çš„<a href="https://archive.openwrt.org/releases/23.05.4/targets/">ä»“åº“</a>æŸ¥çœ‹å¹¶ä¸‹è½½åŒ…ä½“ã€‚</p>
</li>
<li>
<p>å½“ç„¶ä¹Ÿå¯ä»¥åœ¨<a href="https://firmware-selector.openwrt.org/">è¿™é‡Œ</a>ç›´æ¥ä¸‹è½½ç›¸å…³å‹å·å¯¹åº”çš„å›ºä»¶ï¼Œå…¶ä¸­ Sysupgrade æ˜ åƒæ˜¯ç”¨æ¥æ›´æ–°ç°æœ‰è¿è¡Œ OpenWrt çš„è®¾å¤‡ï¼Œä½¿ç”¨ Factory æ˜ åƒåœ¨é¦–æ¬¡åˆ·æœºæ—¶åˆ·å…¥ã€‚</p>
</li>
<li>
<p>éšåå¼€å¯Telnetæˆ–è€…SSHæˆ–è€…TTLä¸²å£è¿æ¥åˆ°è·¯ç”±å™¨ï¼Œå°†å¯¹åº”çš„Ubootåˆ·å…¥ï¼Œå¦‚æœæ²¡æœ‰é€‚é…çš„åŒ…å°±æ— æ³•åˆ·openwrtã€‚</p>
</li>
<li>
<p>é€šè¿‡Ubootçš„ç½‘ç»œç•Œé¢åˆ·å…¥FactoryåŒ…ï¼Œéšåå°±å¯ä»¥åœ¨åå°ï¼ˆå¦‚192.168.1.1ï¼‰è¿›å…¥openwrtçš„ç®¡ç†ç•Œé¢ã€‚</p>
</li>
</ul>
<h2 id="zai-ubuntushang-dan-du-bian-yi-openwrtde-ipkbao">åœ¨ubuntuä¸Šå•ç‹¬ç¼–è¯‘openwrtçš„ipkåŒ…</h2>
<p>è¿™é‡Œä»¥ubuntuç¯å¢ƒä¸ºä¾‹ï¼Œæˆ‘ä»¬å‡è®¾ä½ æœ‰ä¸€å°è™šæ‹Ÿæœºæˆ–è€…WSLã€‚</p>
<blockquote>
<p><code>æ³¨æ„ç¼–è¯‘ä¸èƒ½ä½¿ç”¨Rootç”¨æˆ·ï¼</code></p>
</blockquote>
<p><strong>éšåå®‰è£…ç¼–è¯‘ä¾èµ–çš„å„ä¸ªåŒ…ï¼š</strong></p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>sudo apt install python3-distutils-extra git gawk libncurses-dev build-essential binutils bzip2 diff find flex gawk gcc-6+ getopt grep install libc-dev libz-dev make4.1+ perl python3.7+ rsync subversion unzip which
</span><span>
</span><span>sudo apt install -y build-essential python3-dev python3-setuptools swig \
</span><span>    libmesa-dev libwayland-dev libgraphene-dev \
</span><span>    gawk wget git-core diffstat unzip texinfo gcc-multilib \
</span><span>    libncurses5-dev libncursesw5-dev zlib1g-dev \
</span><span>    libssl-dev flex bison gperf libxml-parser-perl \
</span><span>    python-is-python3 python3-pip gettext
</span><span>
</span><span>sudo apt install -y swig
</span><span>sudo apt install -y mesa-common-dev libwayland-dev libgraphene-1.0-dev
</span></code></pre>
<p>éšåä¸‹è½½æˆ‘ä»¬<strong>åˆ·å…¥openwrtçš„å¯¹åº”çš„SDKåŒ…</strong>ï¼Œå¦‚</p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>git clone https://github.com/immortalwrt/immortalwrt.git
</span></code></pre>
<p><strong>ä¸‹è½½å’Œå®‰è£…ä»“åº“ä¿¡æ¯</strong></p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>./scripts/feeds update -a
</span><span>./scripts/feeds install -a
</span></code></pre>
<p><strong>ä¸‹è½½å¹¶é€‰ä¸­æˆ‘ä»¬éœ€è¦ç¼–è¯‘çš„åŒ…,è¿™é‡Œä»¥inynä¸ºä¾‹ï¼š</strong></p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>git clone https://github.com/diredocks/openwrt-inyn.git ./package/inyn
</span><span>make menuconfig
</span></code></pre>
<p>åœ¨ <code>menuconfig</code> çš„å‘½ä»¤è¡Œç•Œé¢ä¸­ï¼Œé€‰ä¸­ <code>Network -&gt; inyn</code> å°†å…¶é¦–éƒ¨è°ƒæ•´ä¸º <code>&lt;M&gt;</code> è¡¨ç¤ºæŒ‰éœ€ç¼–è¯‘ï¼Œæœ€åé€‰ä¸­ <code>Save -&gt; OK -&gt; Exit</code> ä¿å­˜é…ç½®ä¿¡æ¯ï¼Œç„¶å <code>Exit</code> é€€å‡ºé…ç½®ã€‚</p>
<p><strong>ç¼–è¯‘ inyn è½¯ä»¶åŒ…</strong></p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>make package/inyn/compile V=s
</span><span>## å¦‚æœä¸è¡Œåˆ™éœ€è¦å…ˆç¼–è¯‘å·¥å…·é“¾ï¼Œå³ä¸º make j=4 ï¼Œjä¸ºCPUæ ¸æ•°
</span></code></pre>
<h2 id="github-actions-bian-yi-openwrt">Github Actions ç¼–è¯‘OpenWrt</h2>
<p>Githubä¸ºæˆ‘ä»¬æä¾›äº†å…è´¹çš„E5ä¸»æœºç”¨æ¥ç¼–è¯‘ã€‚</p>
<ul>
<li>
<p>é¦–å…ˆFork<a href="https://github.com/hugcabbage/shared-lede">è¿™ä¸ªä»“åº“</a>ï¼Œå¯ä»¥çœ‹åˆ°æœ‰è®¸å¤šç°æˆçš„é…ç½®ï¼Œåœ¨<strong>é¡¶æ actionsé‡Œé¢å¯ä»¥ç›´æ¥å¯åŠ¨ä¸€ä¸ªWorkflow</strong>æ¥ç¼–è¯‘ã€‚</p>
</li>
<li>
<p>å¤§ä½“æ¶æ„æ˜¯é€‰æ‹©<strong>æºç  -- æœºå‹ -- ç‰ˆæœ¬ -- æ’ä»¶/ä¸»é¢˜ -- é…ç½®ï¼ˆIP/å¯†ç /Hostname/ç¼–è¯‘è€…ï¼‰</strong>ï¼Œç”±ä¸€ä¸ªconfigæ–‡ä»¶ç®¡ç†ï¼Œè¿™ä¸ªæ–‡ä»¶åœ¨å‰é¢ä¹Ÿæåˆ°è¿‡ï¼Œå¯ä»¥åœ¨æœ¬åœ°ç”Ÿæˆå¹¶ä¸Šä¼ ï¼›</p>
</li>
<li>
<p>æƒ³è¦ä»€ä¹ˆæ’ä»¶å¯ä»¥ç›´æ¥git cloneè¿‡æ¥åŸä»“åº“ï¼Œå¦‚æœä½ æƒ³è¦æ·»åŠ å…¶ä»–æ¶æ„å’Œè®¾å¤‡ï¼Œè¿™é‡Œ<strong>ä½¿ç”¨templeté‡Œé¢çš„init.tomlæ¥åˆ›å»º</strong>ï¼ŒæŒ‰ç…§ç±»ä¼¼çš„æ ¼å¼å¡«å¥½ï¼›</p>
</li>
<li>
<p>åœ¨actionsé‡Œé¢è¿è¡Œproduceï¼Œæ³¨æ„è¿™éœ€è¦<strong>GitHub Personal Access Token (PAT)</strong>ï¼›å¦‚æœæ²¡æœ‰ï¼Œå¿…é¡»å…ˆæ·»åŠ ï¼š</p>
</li>
<li>
<p>æ‰“å¼€ GitHubï¼Œè¿›å…¥<a href="https://github.com/settings/tokens">GitHub Developer Settings</a>ç‚¹å‡» â€œGenerate new token (classic)â€ï¼Œ<strong>å‹¾é€‰æ‰€éœ€æƒé™</strong>ï¼ˆæœ€å…³é”®çš„æ˜¯ repo å’Œ workflowï¼‰ï¼šâœ… repoï¼ˆæ‰€æœ‰å­æƒé™ï¼‰âœ… workflowâœ… read:packages <strong>Token è¿‡æœŸæ—¶é—´</strong>ï¼šé€‰æ‹© â€œNo expirationâ€ï¼ˆä¸è¿‡æœŸï¼‰ï¼Œå¦åˆ™è¿‡æœŸåéœ€è¦é‡æ–°ç”Ÿæˆã€‚<strong>ç‚¹å‡»</strong> â€œGenerate tokenâ€
<strong>å¤åˆ¶ Token</strong>ï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼Œä¸€å®šè¦ä¿å­˜å¥½ï¼ï¼‰</p>
</li>
<li>
<p>ç„¶åæ·»åŠ  <strong>PRODUCE_DEVICE</strong> åˆ° <strong>GitHub Secrets</strong>ï¼Œ
é¦–å…ˆè¿›å…¥ä½ çš„ GitHub ä»“åº“ï¼Œä¾æ¬¡è¿›å…¥ï¼šSettingsï¼ˆè®¾ç½®ï¼‰-
Secrets and variables-Actions-New repository secret
åç§°ä¸ºPRODUCE_DEVICEï¼Œå€¼ä¸ºç²˜è´´åˆšåˆšå¤åˆ¶çš„ GitHub Tokenï¼Œç‚¹å‡» â€œAdd secretâ€ å®Œæˆæ·»åŠ ã€‚</p>
</li>
<li>
<p>éšååœ¨actionsé‡Œé¢è¿è¡Œproduceï¼Œå®Œæˆåå³å¯å‡ºç°æ–°æ¶æ„çš„ç¼–è¯‘æŒ‰é’®.</p>
</li>
</ul>
<h2 id="chang-yong-ming-ling">å¸¸ç”¨å‘½ä»¤:</h2>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span># æ›´æ–°è½¯ä»¶åˆ—è¡¨
</span><span>opkg update
</span><span>
</span><span># æ›´æ–°æ‰€æœ‰ LUCI æ’ä»¶
</span><span>opkg list-upgradable | grep luci- | cut -f 1 -d &#39; &#39; | xargs opkg upgrade
</span><span>
</span><span># å¦‚æœè¦æ›´æ–°æ‰€æœ‰è½¯ä»¶ï¼ŒåŒ…æ‹¬ OpenWRT å†…æ ¸ã€å›ºä»¶ç­‰
</span><span>opkg list-upgradable | cut -f 1 -d &#39; &#39; | xargs opkg upgrade
</span></code></pre>
<blockquote>
<p>æ–°ç‰ˆæœ¬çš„openwrtï¼ˆ24.10ï¼‰å·²ç»æ”¹ç”¨APKåŒ…ç®¡ç†å™¨ã€‚</p>
</blockquote>
<h2 id="link">ğŸ”—</h2>
<ul>
<li><a href="https://openwrt.org/zh/docs/start">Openwrt wiki</a></li>
<li><a href="https://openwrt.ai/?target=ipq807x%2Fgeneric&amp;id=xiaomi_ax3600">OpenWrtåœ¨çº¿å®šåˆ¶ç¼–è¯‘</a></li>
<li><a href="https://www.cnblogs.com/tfel-ypoc/p/17226064.html">openwrt luci é¡µé¢æ— æ³•è®¿é—® é—®é¢˜æ’æŸ¥</a></li>
<li><a href="https://post.smzdm.com/p/axz6369w/">è¶…è¯¦ç»†ï¼Œå¤šå›¾ï¼Œç®€å•ï¼ŒOpenWRT è®¾ç½®ï¼ŒIPV6é…ç½®</a></li>
<li><a href="https://blog.csdn.net/weixin_44548582/article/details/121064734">ä¿å§†çº§-å…‰çŒ«æ”¹æ¡¥æ¥-è·¯ç”±æ‹¨å·-openwrtç«¯å£è½¬å‘</a></li>
</ul>

        </div>

        
        <div class="pagination">
            <div class="pagination__title">
                <span class="pagination__title-h">Thanks for reading! Read other posts?</span>
                <hr />
            </div>
            <div class="pagination__buttons">
                    <span class="button previous">
                        <a href="https://blog.dich.bid/awesome-pve-mcsm/">
                            <span class="button__icon">â†</span>&nbsp;
                            <span class="button__text">ç»¼åˆå·¥ç¨‹:PVEå®‰è£…ä¸MCæœåŠ¡å™¨æ­å»º</span>
                        </a>
                    </span>
                
                
                    <span class="button next">
                        <a href="https://blog.dich.bid/awesome-android-root/">
                            <span class="button__text">ç»¼åˆå·¥ç¨‹:å®‰å“åˆ·æœºä¸rootæ•™ç¨‹</span>&nbsp;
                            <span class="button__icon">â†’</span>
                        </a>
                    </span>
                </div>
        </div>
    
    </div>

    </div>

    
    <footer class="footer">
        <div class="footer__inner">
                <div class="copyright">
                        <span>Â© 
    2025
 Dichgrem</span>
                    <span class="copyright-theme">
                        <span class="copyright-theme-sep">:: </span>
                        Theme: <a href="https://github.com/pawroman/zola-theme-terminimal/">Terminimal</a> by pawroman
                    </span>
                </div>
            </div>
    </footer>
    

</div>
</body>

</html>